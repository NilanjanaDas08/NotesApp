<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes List</title>
</head>
<body>
    <h1>Notes List For {{ user_info.first_name }} {{ user_info.last_name }}</h1>
    <ul>
        {% if user_notes %}
            {% for note in user_notes %}
                <li>
                    <div class="note-container">
                    <strong>{{ note.title }}</strong><br>
                    {{ note.content }}
                    <form method="POST" action="{% url 'update_and_save' note.id %}">
                        {% csrf_token %}
                        
                        <label for="title-{{ note.id }}">Title</label>
                        <input type="text" id="title-{{ note.id }}" name="title" value="{{ note.title }}">
    
                        <label for="content-{{ note.id }}">Content</label>
                        <textarea id="content-{{ note.id }}" name="content">{{ note.content }}</textarea>
    
                        <button type="submit">Update and Save</button>
                        </form>
                        <form method='POST' action="{% url 'delete_note' note.id %}"style="display: inline;">
                            {%csrf_token%}
                            <button type="submit" onclick="return confirm('Are you sure you want to delete this note?');">Delete</button>
                        </form>
                        </div>
                </li>
            {% endfor %}
        {% else %}
            <li>No notes found.</li>
        {% endif %}
        </ul>

    <a href="{% url 'create_notes' %}" class="btn btn-primary">Create Note</a>
    <a href="{% url 'logout' %}" class="btn btn-primary">Logout</a>
</body>
</html>
